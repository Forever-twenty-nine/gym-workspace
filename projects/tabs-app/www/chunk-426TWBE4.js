import{a as R}from"./chunk-BZ6KWPC6.js";import"./chunk-XSF6HTAU.js";import{a as N,c as O,k as A,q as D}from"./chunk-FWXQILRK.js";import{v as B}from"./chunk-JSLBC6HI.js";import{J as j,K as z,c as k,l as F,s as G,v as L}from"./chunk-JVB3KVD6.js";import{$b as P,Da as _,Nb as x,Qa as w,Ra as v,Wa as S,Xa as e,Xb as C,Ya as i,Yb as I,Za as m,Zb as E,_b as T,bb as d,cb as y,hc as W,kb as o,lb as M,ob as h,pb as f,qb as b,wa as c,za as u}from"./chunk-WL3GAS2Y.js";import"./chunk-4EWL26LU.js";import"./chunk-YM2BLGLI.js";import"./chunk-OD6JCEWI.js";import"./chunk-OEDRB37F.js";import"./chunk-J245M54K.js";import"./chunk-6TYOTTQG.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-LRFGNCHE.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{i as p}from"./chunk-VBFW7A5V.js";function V(s,r){if(s&1&&(e(0,"div",21)(1,"p",23),o(2),i()()),s&2){let U=y();c(2),M(U.errorMessage)}}var te=(()=>{let r=class r{constructor(n,l,t){this.authService=n,this.userService=l,this.router=t,this.email="",this.password="",this.errorMessage="",N({arrowBackOutline:O,personOutline:D,lockClosedOutline:A})}goToRegister(){this.router.navigate(["/register"])}goToForgotPassword(){this.router.navigate(["/forgot-password"])}goToWelcome(){this.router.navigate(["/welcome"])}login(){return p(this,null,function*(){if(this.errorMessage="",!this.email||!this.password){this.errorMessage="Por favor, ingresa email y contrase\xF1a";return}try{yield this.authService.login(this.email,this.password),this.userService.getCurrentUser()||(this.errorMessage="Email o contrase\xF1a incorrectos")}catch{this.errorMessage="Error al iniciar sesi\xF3n"}})}loginWithGoogle(){return p(this,null,function*(){try{(yield this.authService.loginWithGoogle())||(this.errorMessage="Error al autenticar con Google")}catch(n){this.errorMessage=n?.message||"Ocurri\xF3 un error inesperado",console.error("Google login error:",n)}})}};r.\u0275fac=function(l){return new(l||r)(u(R),u(B),u(k))},r.\u0275cmp=_({type:r,selectors:[["app-login"]],decls:31,vars:4,consts:[["slot","start","fill","clear",1,"fixed","top-4","left-2","z-10","text-white",3,"click"],["name","arrow-back-outline"],[1,"ion-padding",2,"--background","url('/assets/images/bg.jpg') no-repeat center center / cover",3,"fullscreen"],[1,"fixed","inset-0","z-0"],[1,"w-full","h-full","bg-[url('/assets/images/bg.jpg')]","bg-cover","bg-center","blur-xs"],[1,"absolute","inset-0","bg-gradient-to-b","from-transparent","via-black/70","to-black","pointer-events-none"],[1,"z-10","p-2","relative","flex","items-start","justify-center"],[1,"mt-24","w-full"],[1,"text-white","font-semibold","font-heading","text-4xl","mb-8"],[1,"mb-2","text-white/80"],["expand","block","fill","outline","size","large","shape","round","color","primary",1,"normal-case","mb-6","!mt-0",3,"click"],["src","https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","alt","Google",1,"w-5","h-5"],[1,"pl-3","text-base"],[1,"mb-4"],["name","person-outline","slot","start","size","default","aria-hidden","true",1,"mr-2","text-white/60"],["type","email","name","email","placeholder","Ingresa tu email",1,"bg-transparent","!text-white",3,"ngModelChange","ngModel"],[1,"mb-4","rounded-lg"],["name","lock-closed-outline","slot","start","size","default","aria-hidden","true",1,"mr-2","text-white/60"],["type","password","name","password","placeholder","Ingresa tu contrase\xF1a",1,"bg-transparent","!text-white",3,"ngModelChange","ngModel"],[1,"flex","gap-2","items-center","justify-center","mb-6"],["expand","block","fill","clean","size","default","shape","round","color","primary",1,"!mt-0",3,"click"],[1,"mb-4","p-3","bg-red-500/20","border","border-red-500/50","rounded-lg"],["expand","block","fill","solid","size","large","shape","round","color","primary",1,"",3,"click"],[1,"text-red-200","text-sm"]],template:function(l,t){l&1&&(e(0,"ion-button",0),d("click",function(){return t.goToWelcome()}),m(1,"ion-icon",1),i(),e(2,"ion-content",2)(3,"div",3),m(4,"div",4)(5,"div",5),i(),e(6,"div",6)(7,"div",7)(8,"h1",8),o(9," Bienvenido a GymApp "),i(),e(10,"p",9),o(11," Inicia sesi\xF3n con: "),i(),e(12,"ion-button",10),d("click",function(){return t.loginWithGoogle()}),m(13,"img",11),e(14,"span",12),o(15,"Cuenta de Google"),i()(),e(16,"p",9),o(17," O continua con: "),i(),e(18,"form")(19,"ion-item",13),m(20,"ion-icon",14),e(21,"ion-input",15),b("ngModelChange",function(a){return f(t.email,a)||(t.email=a),a}),i()(),e(22,"ion-item",16),m(23,"ion-icon",17),e(24,"ion-input",18),b("ngModelChange",function(a){return f(t.password,a)||(t.password=a),a}),i()(),e(25,"div",19)(26,"ion-button",20),d("click",function(){return t.goToForgotPassword()}),o(27," \xBFOlvidaste tu contrase\xF1a? "),i()()(),w(28,V,3,1,"div",21),e(29,"ion-button",22),d("click",function(){return t.login()}),o(30," Iniciar Sesi\xF3n "),i()()()()),l&2&&(c(2),S("fullscreen",!0),c(19),h("ngModel",t.email),c(3),h("ngModel",t.password),c(4),v(t.errorMessage?28:-1))},dependencies:[x,G,L,z,F,j,W,P,C,I,T,E],encapsulation:2});let s=r;return s})();export{te as LoginPage};
