import{a as Q,b as W}from"./chunk-OUWNKFJR.js";import{a as z,g as q,j as B,q as G,u as J,v as K}from"./chunk-FWXQILRK.js";import{v as $}from"./chunk-JSLBC6HI.js";import{F as U,G as V,J as H,j as M,m as O,n as R,o as k,p as F,q as P,s as j,u as w,v as L,w as T,x as N}from"./chunk-JVB3KVD6.js";import{Da as I,Ha as C,Kb as y,Nb as A,W as u,Wa as d,Xa as t,Ya as i,Za as p,aa as b,ab as D,ba as S,bb as _,cb as x,ia as v,kb as o,lb as g,mb as E,wa as r,wb as h,xb as f}from"./chunk-WL3GAS2Y.js";import"./chunk-4EWL26LU.js";import"./chunk-YM2BLGLI.js";import"./chunk-OD6JCEWI.js";import"./chunk-OEDRB37F.js";import"./chunk-J245M54K.js";import"./chunk-6TYOTTQG.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-LRFGNCHE.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-VBFW7A5V.js";function X(c,l){if(c&1){let s=D();t(0,"ion-item",11),_("click",function(){let n=b(s).$implicit,a=x();return S(a.verRutina(n))}),p(1,"ion-icon",12),t(2,"ion-label")(3,"h3"),o(4),i()(),t(5,"ion-chip",13),o(6),i()()}if(c&2){let s=l.$implicit;r(),d("name",s.completada?"checkmark-circle-outline":"time-outline")("color",s.completada?"success":"warning"),r(3),g(s.nombre),r(),d("color",s.completada?"success":"warning"),r(),E(" ",s.completada?"Completada":"Pendiente"," ")}}var ce=(()=>{let l=class l{constructor(){this.clienteService=u(Q),this.rutinaService=u(W),this.userService=u($),this.cliente=v(null),this.todasLasRutinas=v([]),this.nombreCliente=h(()=>this.userService.user()?.nombre||"Cliente"),this.objetivoActual=h(()=>this.cliente()?.objetivo||"Sin objetivo definido"),this.rutinasAsignadas=h(()=>{let e=this.userService.getUserId(),n=this.todasLasRutinas();if(console.log("\u{1F50D} Debug rutinasAsignadas:",{userId:e,totalRutinas:n.length,rutinas:n}),!e||!n.length)return[];let a=n.filter(m=>m.clienteId===e);return console.log("\u{1F3AF} Rutinas del cliente:",a),a.map(m=>({nombre:m.nombre,fechaAsignada:this.formatearFecha(m.fechaAsignacion),completada:m.completado||!1}))}),z({statsChartOutline:J,fitnessOutline:B,personOutline:G,checkmarkCircleOutline:q,timeOutline:K}),f(()=>{let e=this.userService.getUserId();if(console.log("\u{1F464} Usuario actual:",e),e){let a=this.clienteService.obtenerClientePorId(e)();console.log("\u{1F4CB} Datos del cliente:",a),this.cliente.set(a)}}),f(()=>{let n=this.rutinaService.obtenerRutinas()();console.log("\u{1F3C3}\u200D\u2642\uFE0F Todas las rutinas:",n),this.todasLasRutinas.set(n)})}ngOnInit(){}formatearFecha(e){return e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"}):""}verRutina(e){console.log("Ver rutina:",e)}contactarEntrenador(){console.log("Contactar entrenador")}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=I({type:l,selectors:[["app-dashboard"]],decls:41,vars:5,consts:[[3,"translucent"],[1,"ion-padding",3,"fullscreen"],["collapse","condense"],["size","large"],[1,""],["lines","none"],["slot","start"],["name","person-outline"],["name","stats-chart-outline","slot","start","color","primary"],["slot","end","color","success"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],["slot","start",3,"name","color"],["slot","end",3,"color"]],template:function(n,a){n&1&&(t(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),o(3,"Mi Dashboard"),i()()(),t(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),o(8,"Mi Dashboard"),i()()(),t(9,"ion-card")(10,"ion-card-header")(11,"ion-card-title",4),o(12,"Informaci\xF3n Personal"),i()(),t(13,"ion-card-content")(14,"ion-item",5)(15,"ion-avatar",6),p(16,"ion-icon",7),i(),t(17,"ion-label")(18,"h3"),o(19),i(),t(20,"p"),o(21,"Cliente"),i()()()()(),t(22,"ion-card")(23,"ion-card-header")(24,"ion-card-title"),o(25,"Objetivo Actual"),i()(),t(26,"ion-card-content")(27,"ion-item",5),p(28,"ion-icon",8),t(29,"ion-label")(30,"h3"),o(31),i()(),t(32,"ion-chip",9),o(33," Activo "),i()()()(),t(34,"ion-card")(35,"ion-card-header")(36,"ion-card-title"),o(37,"Rutinas Asignadas"),i()(),t(38,"ion-card-content")(39,"ion-list"),C(40,X,7,5,"ion-item",10),i()()()()),n&2&&(d("translucent",!0),r(4),d("fullscreen",!0),r(15),g(a.nombreCliente()),r(12),g(a.objetivoActual()),r(9),d("ngForOf",a.rutinasAsignadas()))},dependencies:[A,y,w,V,U,j,O,k,F,R,H,L,T,N,P,M],styles:[".cliente-dashboard[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}"]});let c=l;return c})();export{ce as DashboardPage};
