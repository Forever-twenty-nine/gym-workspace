import{a as te}from"./chunk-BZ6KWPC6.js";import"./chunk-XSF6HTAU.js";import{a as Q,d as H,e as K,g as W,j as Y,o as Z,q as $,s as ee}from"./chunk-FWXQILRK.js";import"./chunk-JSLBC6HI.js";import{A as z,E as J,J as G,K as X,M as q,c as N,l as F,m as k,s as L,v as B,w as U,y as V}from"./chunk-JVB3KVD6.js";import{Da as D,Qa as c,Ra as m,Wa as _,Xa as i,Xb as R,Ya as o,Za as u,_b as y,aa as v,ab as O,ba as x,bb as b,cb as p,fc as j,hc as w,ia as f,kb as s,lb as S,nb as I,wa as a,wb as h,za as C}from"./chunk-WL3GAS2Y.js";import"./chunk-4EWL26LU.js";import"./chunk-YM2BLGLI.js";import"./chunk-OD6JCEWI.js";import"./chunk-OEDRB37F.js";import"./chunk-J245M54K.js";import"./chunk-6TYOTTQG.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-LRFGNCHE.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{a as P,b as A,i as E}from"./chunk-VBFW7A5V.js";var T=function(e){return e.BAJAR_PESO="Bajar Peso",e.AUMENTAR_MUSCULO="Aumentar Musculo",e.MANTENER_PESO="Mantener Peso",e}(T||{});function ne(e,d){e&1&&(i(0,"span"),s(1,"Datos Personales"),o())}function ie(e,d){e&1&&(i(0,"span"),s(1,"Tu Objetivo"),o())}function oe(e,d){e&1&&(i(0,"span"),s(1,"Completaremos tu perfil"),o())}function ae(e,d){e&1&&(i(0,"span"),s(1,"\xBFQu\xE9 quieres lograr?"),o())}function re(e,d){if(e&1&&(i(0,"ion-card",20)(1,"p",21),u(2,"ion-icon",22),i(3,"span",23),s(4),o()()()),e&2){let t=p(2);a(4),S(t.getRoleDescription(t.formData().role))}}function le(e,d){if(e&1){let t=O();i(0,"div")(1,"ion-item",11),u(2,"ion-icon",12),i(3,"ion-label",13),s(4," Nombre Completo * "),o(),i(5,"ion-input",14),b("ngModelChange",function(r){v(t);let n=p();return x(n.updateFormField("nombre",r))}),o()(),i(6,"ion-item",11),u(7,"ion-icon",15),i(8,"ion-label",13),s(9," Tipo de Usuario * "),o(),i(10,"ion-select",16),b("ngModelChange",function(r){v(t);let n=p();return x(n.updateFormField("role",r))}),i(11,"ion-select-option",17),s(12,"Cliente"),o(),i(13,"ion-select-option",18),s(14,"Entrenador"),o(),i(15,"ion-select-option",19),s(16,"Gimnasio"),o()()(),c(17,re,5,1,"ion-card",20),o()}if(e&2){let t=p();a(5),_("ngModel",t.formData().nombre),a(5),_("ngModel",t.formData().role),a(7),m(t.formData().role?17:-1)}}function se(e,d){if(e&1&&(i(0,"ion-card",20)(1,"p",21),u(2,"ion-icon",30),i(3,"span",23),s(4),o()()()),e&2){let t=p(2);a(4),S(t.getObjetivoDescription(t.formData().objetivo))}}function de(e,d){if(e&1){let t=O();i(0,"div")(1,"ion-item",24),u(2,"ion-icon",25),i(3,"ion-label",13),s(4," Objetivo Principal * "),o(),i(5,"ion-select",26),b("ngModelChange",function(r){v(t);let n=p();return x(n.updateFormField("objetivo",r))}),i(6,"ion-select-option",27),s(7),o(),i(8,"ion-select-option",28),s(9),o(),i(10,"ion-select-option",29),s(11),o()()(),c(12,se,5,1,"ion-card",20),o()}if(e&2){let t=p();a(5),_("ngModel",t.formData().objetivo),a(2),S(t.objetivos.BAJAR_PESO),a(2),S(t.objetivos.AUMENTAR_MUSCULO),a(2),S(t.objetivos.MANTENER_PESO),a(),m(t.formData().role?12:-1)}}function ce(e,d){if(e&1&&(i(0,"ion-text",9)(1,"p",31),s(2),o()()),e&2){let t=p();a(2),S(t.errorMessage())}}function me(e,d){e&1&&(i(0,"span"),s(1,"Configurando..."),o())}function ue(e,d){e&1&&u(0,"ion-icon",32)}function pe(e,d){e&1&&u(0,"ion-icon",33)}function ge(e,d){e&1&&(i(0,"span"),s(1,"Continuar"),o())}function _e(e,d){e&1&&(i(0,"span"),s(1,"Finalizar"),o())}function Se(e,d){if(e&1&&(c(0,ue,1,0,"ion-icon",32),c(1,pe,1,0,"ion-icon",33),c(2,ge,2,0,"span")(3,_e,2,0,"span")),e&2){let t=p();m(!t.isLoading()&&(t.currentStep()<t.totalSteps()||t.formData().role!=="cliente")?0:-1),a(),m(!t.isLoading()&&t.currentStep()===t.totalSteps()&&t.formData().role==="cliente"?1:-1),a(),m(t.currentStep()<t.totalSteps()&&t.formData().role==="cliente"?2:3)}}var g={STEPS:{DATOS_PERSONALES:1,OBJETIVO:2},MAX_STEPS:{CLIENTE:2,OTROS:1}},De=(()=>{let d=class d{updateFormField(l,r){this.formData.update(n=>A(P({},n),{[l]:r}))}constructor(l,r){this.authService=l,this.router=r,this.currentStep=f(g.STEPS.DATOS_PERSONALES),this.totalSteps=f(g.MAX_STEPS.CLIENTE),this.formData=f({nombre:"",role:"cliente",objetivo:""}),this.errorMessage=f(""),this.isLoading=f(!1),this.progress=h(()=>this.currentStep()/this.totalSteps()*100),this.isClient=h(()=>this.formData().role==="cliente"),this.showStep2=h(()=>this.currentStep()===g.STEPS.OBJETIVO&&this.isClient()),this.objetivos=T,this.validationRules={nombre:n=>n.trim()?n.trim().length<2?"El nombre debe tener al menos 2 caracteres":null:"Por favor, ingresa tu nombre completo",role:n=>n?null:"Por favor, selecciona tu tipo de usuario",objetivo:(n,M)=>M==="cliente"&&!n?"Por favor, selecciona tu objetivo principal":null},Q({personOutline:$,peopleOutline:Z,bookmarkOutline:K,checkmarkCircleOutline:W,arrowForwardOutline:H,fitnessOutline:Y,rocketOutline:ee}),this.initializeForTesting()}initializeForTesting(){return E(this,null,function*(){console.log("Inicializando Onboarding para testing")})}nextStep(){if(this.currentStep()===g.STEPS.DATOS_PERSONALES){if(!this.validateStep1())return;if(this.formData().role!=="cliente"){this.totalSteps.set(g.MAX_STEPS.OTROS),this.completeOnboarding();return}this.totalSteps.set(g.MAX_STEPS.CLIENTE),this.currentStep.set(g.STEPS.OBJETIVO)}else if(this.currentStep()===g.STEPS.OBJETIVO){if(!this.validateStep2())return;this.completeOnboarding()}}validateField(l,r,n){return l==="objetivo"&&n?this.validationRules.objetivo(r,n):l==="nombre"?this.validationRules.nombre(r):l==="role"?this.validationRules.role(r):null}validateStep1(){let l=this.formData(),r=this.validateField("nombre",l.nombre);if(r)return this.errorMessage.set(r),!1;let n=this.validateField("role",l.role);return n?(this.errorMessage.set(n),!1):(this.errorMessage.set(""),!0)}validateStep2(){let l=this.formData(),r=this.validateField("objetivo",l.objetivo,l.role);return r?(this.errorMessage.set(r),!1):(this.errorMessage.set(""),!0)}completeOnboarding(){return E(this,null,function*(){this.router.navigate(["/welcome"])})}redirectToRolePage(){switch(this.formData().role){case"cliente":this.router.navigate(["/cliente-tabs"]);break;case"entrenador":this.router.navigate(["/entrenador-tabs"]);break;case"gimnasio":this.router.navigate(["/gimnasio-tabs"]);break;default:this.router.navigate(["/welcome"])}}getRoleDescription(l){switch(l){case"cliente":return"Acceso a entrenamientos y seguimiento de progreso";case"entrenador":return"Gesti\xF3n de clientes y creaci\xF3n de rutinas";case"gimnasio":return"Administraci\xF3n completa del gimnasio";default:return""}}getObjetivoDescription(l){switch(l){case"BAJAR_PESO":return"Te ayudaremos a alcanzar tu peso ideal de forma saludable";case"AUMENTAR_MUSCULO":return"Rutinas espec\xEDficas para ganar masa muscular";case"MANTENER_PESO":return"Mant\xE9n tu peso actual con ejercicios de mantenimiento";default:return""}}getProgress(){return this.progress()}};d.\u0275fac=function(r){return new(r||d)(C(te),C(N))},d.\u0275cmp=D({type:d,selectors:[["app-onboarding"]],decls:23,vars:13,consts:[[1,"ion-padding","bg-[var(--brand-light-color)]",3,"fullscreen"],[1,"p-2"],[1,"p-4","pb-0","mb-10"],["color","medium"],[1,"text-sm","text-[var(--brand-secondary-color)]","text-center","mb-2"],["color","primary",3,"value"],[1,"text-3xl","font-heading","font-semibold","text-center","mb-8"],[1,"text-[var(--brand-primary-color)]","text-3xl","font-semibold","font-heading","text-center"],[1,"text-[var(--brand-secondary-color)]","text-center","text-lg","mb-8"],["color","danger"],["expand","block","fill","solid","size","large","shape","round","color","primary",1,"!mt-8",3,"click","disabled"],[1,"mb-4","rounded-lg"],["name","person-outline","slot","start","size","default","aria-hidden","true",1,"mr-3","pt-6"],["position","stacked"],["type","text","placeholder","Ingresa tu nombre completo","maxlength","50",3,"ngModelChange","ngModel"],["name","people-outline","slot","start","size","default","aria-hidden","true",1,"mr-3","pt-6"],["placeholder","Selecciona tu rol",2,"--placeholder-color","var(--ion-color-medium)",3,"ngModelChange","ngModel"],["value","cliente"],["value","entrenador"],["value","gimnasio"],["color","warning",1,"!mx-0"],[1,"text-center","my-4","mx-0","p-3","text-base"],["name","fitness-outline"],[1,"block"],[1,"mb-4","rounded-lg","bg-[--ion-color-light]"],["name","bookmark-outline","slot","start","size","default","aria-hidden","true",1,"mr-3","pt-6"],["placeholder","\xBFCu\xE1l es tu meta?",1,"",3,"ngModelChange","ngModel"],["value","BAJAR_PESO"],["value","AUMENTAR_MUSCULO"],["value","MANTENER_PESO"],["name","rocket-outline"],[1,"text-center","text-[var(--ion-color-danger)]","my-4","mx-0","text-sm"],["name","arrow-forward-outline","slot","end","size","small",1,"ml-1"],["name","checkmark-circle-outline","slot","end","size","small",1,"ml-1"]],template:function(r,n){r&1&&(i(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"ion-text",3)(4,"p",4),s(5),o()(),u(6,"ion-progress-bar",5),o(),i(7,"h1",6),s(8," \xA1Bienvenido a "),u(9,"br"),s(10,"GymApp! "),o(),i(11,"h2",7),c(12,ne,2,0,"span"),c(13,ie,2,0,"span"),o(),i(14,"p",8),c(15,oe,2,0,"span"),c(16,ae,2,0,"span"),o(),c(17,le,18,3,"div"),c(18,de,13,5,"div"),c(19,ce,3,1,"ion-text",9),i(20,"ion-button",10),b("click",function(){return n.nextStep()}),c(21,me,2,0,"span")(22,Se,4,3),o()()()),r&2&&(_("fullscreen",!0),a(5),I(" Paso ",n.currentStep()," de ",n.totalSteps()," "),a(),_("value",n.getProgress()/100),a(6),m(n.currentStep()===1?12:-1),a(),m(n.currentStep()===2?13:-1),a(2),m(n.currentStep()===1?15:-1),a(),m(n.currentStep()===2?16:-1),a(),m(n.currentStep()===1?17:-1),a(),m(n.showStep2()?18:-1),a(),m(n.errorMessage()?19:-1),a(),_("disabled",n.isLoading()),a(),m(n.isLoading()?21:22))},dependencies:[L,k,B,U,X,F,J,G,q,z,V,w,R,j,y],encapsulation:2});let e=d;return e})();export{De as OnboardingPage};
