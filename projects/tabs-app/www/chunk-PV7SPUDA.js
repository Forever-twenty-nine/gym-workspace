import{a as $}from"./chunk-BZ6KWPC6.js";import"./chunk-XSF6HTAU.js";import{a as N,c as O,g as L,k as G,n as A}from"./chunk-FWXQILRK.js";import"./chunk-JSLBC6HI.js";import{E as B,J as V,K as j,c as k,l as D,s as q,v as z}from"./chunk-JVB3KVD6.js";import{$b as E,Da as S,Nb as _,Qa as h,Ra as v,Vb as d,Wa as u,Xa as i,Xb as M,Ya as o,Yb as I,Za as m,ac as P,bb as g,bc as y,cb as b,gc as R,ic as T,jb as p,kb as a,lb as F,mb as C,wa as n,za as c}from"./chunk-WL3GAS2Y.js";import"./chunk-4EWL26LU.js";import"./chunk-YM2BLGLI.js";import"./chunk-OD6JCEWI.js";import"./chunk-OEDRB37F.js";import"./chunk-J245M54K.js";import"./chunk-6TYOTTQG.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-LRFGNCHE.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{i as x}from"./chunk-VBFW7A5V.js";function W(s,l){if(s&1&&(i(0,"ion-text",20)(1,"p",25),a(2),o()()),s&2){let f=b();n(2),F(f.errorMessage)}}function U(s,l){if(s&1&&(i(0,"ion-text",21)(1,"p",26),m(2,"ion-icon",27),a(3),o()()),s&2){let f=b();n(3),C(" ",f.successMessage," ")}}var ie=(()=>{let l=class l{constructor(r,e,t){this.router=r,this.formBuilder=e,this.authService=t,this.errorMessage="",this.successMessage="",this.isSubmitDisabled=!0,N({lockClosedOutline:G,mailOutline:A,checkmarkCircleOutline:L,arrowBackOutline:O}),this.registerForm=this.formBuilder.group({email:["",[d.required,d.email]],password:["",[d.required,d.minLength(6)]],confirmPassword:["",[d.required]]},{validators:this.passwordMatchValidator}),this.registerForm.statusChanges.subscribe(()=>{this.updateSubmitButtonState()}),this.registerForm.valueChanges.subscribe(()=>{this.updateSubmitButtonState()}),this.updateSubmitButtonState()}updateSubmitButtonState(){this.isSubmitDisabled=!this.registerForm.valid||!!this.successMessage}passwordMatchValidator(r){let e=r.get("password"),t=r.get("confirmPassword");return e&&t&&e.value&&t.value&&e.value!==t.value?{passwordMismatch:!0}:null}get f(){return this.registerForm.controls}isFieldValid(r){let e=this.registerForm.get(r);return!!(e&&e.valid&&(e.touched||e.value))}isFieldInvalid(r){let e=this.registerForm.get(r);return!!(e&&e.invalid&&(e.touched||e.value))}validateForm(){return this.errorMessage="",this.registerForm.invalid?(this.f.email.errors?this.f.email.errors.required?this.errorMessage="El email es requerido":this.f.email.errors.email&&(this.errorMessage="Por favor, ingresa un email v\xE1lido"):this.f.password.errors?this.f.password.errors.required?this.errorMessage="La contrase\xF1a es requerida":this.f.password.errors.minlength&&(this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres"):this.f.confirmPassword.errors&&(this.f.confirmPassword.errors.required?this.errorMessage="La confirmaci\xF3n de contrase\xF1a es requerida":this.f.confirmPassword.errors.passwordMismatch&&(this.errorMessage="Las contrase\xF1as no coinciden")),!1):!0}isValidEmail(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}generateUsername(r){let e=r.split("@")[0].replace(/[^a-zA-Z0-9]/g,"").toLowerCase(),t=Date.now().toString().slice(-4);return`${e}${t}`}register(){return x(this,null,function*(){console.log("Registrando usuario..."),this.router.navigate(["/onboarding"])})}goToLogin(){this.router.navigate(["/login"])}goToWelcome(){this.router.navigate(["/welcome"])}goToOnboarding(){this.router.navigate(["/onboarding"])}};l.\u0275fac=function(e){return new(e||l)(c(k),c(R),c($))},l.\u0275cmp=S({type:l,selectors:[["app-register"]],decls:35,vars:17,consts:[["slot","start","fill","clear",1,"fixed","top-4","left-2","z-10","text-white",3,"click"],["name","arrow-back-outline"],[1,"ion-padding",2,"--background","url('/assets/images/bg.jpg') no-repeat center center / cover",3,"fullscreen"],[1,"fixed","inset-0","z-0"],[1,"w-full","h-full","bg-[url('/assets/images/bg.jpg')]","bg-cover","bg-center","blur-xs"],[1,"absolute","inset-0","bg-gradient-to-b","from-transparent","via-black/70","to-black","pointer-events-none"],[1,"z-10","p-2","relative","flex","items-start","justify-center"],[1,"mt-24","w-full"],[1,"text-white","font-semibold","font-heading","text-4xl","mb-8"],[1,"mb-2","text-white/80"],["expand","block","fill","outline","size","large","shape","round","color","primary",1,"normal-case","mb-6","!mt-0"],["src","https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","alt","Google",1,"w-5","h-5"],[1,"pl-3","text-base"],[3,"formGroup"],[1,"mb-4"],["name","mail-outline","slot","start","size","default","aria-hidden","true",1,"mr-2","text-white/60"],["type","email","formControlName","email","placeholder","Ingresa tu email",1,"bg-transparent","!text-white"],["name","lock-closed-outline","slot","start","size","default","aria-hidden","true",1,"mr-2","text-white/60"],["type","password","formControlName","password","placeholder","Ingresa una contrase\xF1a",1,"bg-transparent","!text-white"],["type","password","formControlName","confirmPassword","placeholder","Repite tu contrase\xF1a",1,"bg-transparent","!text-white"],["color","danger"],["color","success"],["expand","block","fill","solid","size","large","shape","round","color","primary",1,"!mt-8",3,"click","disabled"],[1,"text-center","mt-2","fixed","top-3","right-3"],["fill","clear","size","small","color","medium",1,"text-white","text-sm",3,"click"],[1,"text-center","my-4","mx-0","text-sm","text-[var(--ion-color-danger)]"],[1,"text-center","my-4","mx-0","text-sm","flex","items-center","justify-center","gap-2","text-[var(--ion-color-success)]"],["name","checkmark-circle-outline"]],template:function(e,t){e&1&&(i(0,"ion-button",0),g("click",function(){return t.goToWelcome()}),m(1,"ion-icon",1),o(),i(2,"ion-content",2)(3,"div",3),m(4,"div",4)(5,"div",5),o(),i(6,"div",6)(7,"div",7)(8,"h1",8),a(9," Reg\xEDstrate "),o(),i(10,"p",9),a(11," A trav\xE9s de: "),o(),i(12,"ion-button",10),m(13,"img",11),i(14,"span",12),a(15,"Cuenta de Google"),o()(),i(16,"p",9),a(17," O continua con: "),o(),i(18,"form",13)(19,"ion-item",14),m(20,"ion-icon",15)(21,"ion-input",16),o(),i(22,"ion-item",14),m(23,"ion-icon",17)(24,"ion-input",18),o(),i(25,"ion-item",14),m(26,"ion-icon",17)(27,"ion-input",19),o()(),h(28,W,3,1,"ion-text",20),h(29,U,4,1,"ion-text",21),i(30,"ion-button",22),g("click",function(){return t.register()}),a(31," Crear Cuenta "),o(),i(32,"div",23)(33,"ion-button",24),g("click",function(){return t.goToOnboarding()}),a(34," \u{1F680} Skip to Onboarding "),o()()()()()),e&2&&(n(2),u("fullscreen",!0),n(16),u("formGroup",t.registerForm),n(),p("item-valid",t.isFieldValid("email"))("item-invalid",t.isFieldInvalid("email")),n(3),p("item-valid",t.isFieldValid("password"))("item-invalid",t.isFieldInvalid("password")),n(3),p("item-valid",t.isFieldValid("confirmPassword"))("item-invalid",t.isFieldInvalid("confirmPassword")),n(3),v(t.errorMessage?28:-1),n(),v(t.successMessage?29:-1),n(),u("disabled",t.isSubmitDisabled))},dependencies:[_,q,z,j,D,B,V,T,E,M,I,P,y],encapsulation:2});let s=l;return s})();export{ie as RegisterPage};
